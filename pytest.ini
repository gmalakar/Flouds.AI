[pytest]
testpaths = tests
python_files = test_*.py
python_classes = Test*
python_functions = test_*
addopts = -v --tb=short --strict-markers --disable-warnings --color=yes
asyncio_default_fixture_loop_scope = function
markers =
    slow: marks tests as slow (deselect with '-m "not slow"')
    integration: marks tests as integration tests
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning
    ignore::FutureWarning
    # Suppress noisy ONNX/session autodetect warnings and other test-log noise
    ignore:Could not auto-detect dimension from ONNX session:UserWarning
    ignore:.*auto-detect dimension from ONNX session:UserWarning
    # Suppress expected test-time auth/logging warnings that are noisy
    ignore:.*authentication failed:UserWarning
    ignore:.*Could not find any matching distribution for:UserWarning
    # Additional flouds-specific noisy warnings
    ignore:.*Authentication failed for provided API token:UserWarning
    ignore:.*Could not auto-detect dimension.*:UserWarning
    ignore:.*ONNX.*:UserWarning
    ignore:.*Could not find any matching distribution.*:UserWarning
    # Suppress generic flouds module UserWarnings during tests
    ignore:.*flouds.*:UserWarning
    # Pydantic v2 migration warning (third-party libs may still use v1 Config keys)
    ignore:Valid config keys have changed in V2:UserWarning