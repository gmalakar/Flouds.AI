# Flouds AI Environment Configuration Template
# Copy this file to `.env` and modify values as needed. Do NOT commit secrets.

# Runtime
FLOUDS_API_ENV=Development                # Production | Development | Enterprise
APP_DEBUG_MODE=1                          # 1 = debug logging on; used by `app/logger.py`

# Server configuration (used by healthchecks and some config fallbacks)
SERVER_HOST=localhost
SERVER_PORT=19690
FLOUDS_HOST=0.0.0.0
FLOUDS_PORT=19690
FLOUDS_SERVER_TYPE=uvicorn

# Logging
FLOUDS_LOG_PATH=./logs
FLOUDS_LOG_JSON=1                         # 1 = JSON logs enabled
FLOUDS_LOG_LEVEL=INFO
FLOUDS_LOG_MAX_FILE_SIZE=10485760         # bytes
FLOUDS_LOG_BACKUP_COUNT=5

# Clients DB
FLOUDS_CLIENTS_DB=clients.db

# ONNX (optional in Development; required in Production if using ONNX models)
FLOUDS_ONNX_ROOT=
FLOUDS_ONNX_CONFIG_FILE=

# Host-mounted paths (useful for local Docker setups)
FLOUDS_ONNX_MODEL_PATH_AT_HOST=
FLOUDS_ONNX_CONFIG_FILE_AT_HOST=
FLOUDS_LOG_PATH_AT_HOST=
FLOUDS_TINYDB_PATH_AT_HOST=
FLOUDS_DATA_PATH_AT_HOST=

# Model session/provider (example values: CPUExecutionProvider, CUDAExecutionProvider)
FLOUDS_MODEL_SESSION_PROVIDER=CPUExecutionProvider

# Caching limits (override defaults)
FLOUDS_ENCODER_CACHE_MAX=3
FLOUDS_DECODER_CACHE_MAX=3
FLOUDS_MODEL_CACHE_MAX=2
FLOUDS_SPECIAL_TOKENS_CACHE_MAX=8

# Cache monitor / memory thresholds
FLOUDS_MEMORY_CHECK_INTERVAL=5            # seconds between memory checks
FLOUDS_CACHE_MEMORY_THRESHOLD=1.0         # GB threshold to trigger cleanup

# Request limits and timeouts
FLOUDS_MAX_REQUEST_SIZE=10485760          # bytes (10MB default)
FLOUDS_REQUEST_TIMEOUT=30                 # seconds

# Rate limiting
FLOUDS_RATE_LIMIT_ENABLED=0
FLOUDS_RATE_LIMIT_PER_MINUTE=60
FLOUDS_RATE_LIMIT_PER_HOUR=1000

# CORS / trusted hosts (comma separated)
FLOUDS_CORS_ORIGINS=
FLOUDS_TRUSTED_HOSTS=
FLOUDS_CONFIG_OVERRIDE=0                  # set to 1 to allow config overrides at startup
FLOUDS_SECURITY_ENABLED=0

# Healthcheck
HEALTHCHECK_URL=
HEALTHCHECK_HOST=localhost
HEALTHCHECK_PORT=19690
HEALTHCHECK_PATH=/api/v1/health
HEALTHCHECK_TIMEOUT=8

# Security / secrets (DO NOT commit real values)
FLOUDS_ENCRYPTION_KEY=

# Misc / Docker
DOCKER_PLATFORM=linux/amd64

# Notes:
# - Keep secrets (e.g., FLOUDS_ENCRYPTION_KEY) out of source control. Use CI secrets or Docker secrets.
# - For local development set `FLOUDS_API_ENV=Development` to relax production-only validations.
